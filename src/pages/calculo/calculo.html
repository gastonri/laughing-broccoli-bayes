<!--
  Generated template for the CalculoPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>CalculoBayesiano</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
  <form [formGroup]="calculoForm">
    <ion-item>
      <ion-label floating>C11</ion-label>
      <ion-input type="tel" formControlName="c11"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>C12</ion-label>
      <ion-input type="tel" formControlName="c12"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>P(Y1)</ion-label>
      <ion-input type="tel" formControlName="py1"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>estudioMercado</ion-label>
      <ion-input type="tel" formControlName="estudioMercado"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>Y1/T1 (Est favorable. Prod exitoso)</ion-label>
      <ion-input type="tel" formControlName="t11"></ion-input>
    </ion-item>
    <ion-item>
      <ion-label floating>Y2/T2 (Est desfavorable. Prod fracaso)</ion-label>
      <ion-input type="tel" formControlName="t22"></ion-input>
    </ion-item>
    <div padding>
      <button ion-button block type="button" (click)="calcular()">Calcular</button>
    </div>
  </form>
  <div *ngIf="dx1"
       class="bloque">
    A)
    <table>
      <thead>
      <tr>
        <th>d(x1)</th>
        <th>Y1</th>
        <th>Y2</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>d(X1)</td>
        <td>C11 = {{c11}}</td>
        <td>C12 = {{c12}}</td>
      </tr>
      <tr>
        <td>d(X2)</td>
        <td>C21 = 0</td>
        <td>C22 = 0</td>
      </tr>
      <tr>
        <td>P(Yj)</td>
        <td>{{py1}}</td>
        <td>{{py2}}</td>
      </tr>
      </tbody>
    </table>
    <p>El costo sin realizar el estudio es de {{dx1}}</p>
  </div>

  <div *ngIf="b1t2y1"
       class="bloque">
    B1)
    <table>
      <thead>
      <tr>
        <th colspan="2">Y1</th>
        <th colspan="2">Y2</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>Estudio favorable. Producto exitoso</td>
        <td>Estudio favorable. Producto fracaso</td>
        <td>Estudio desfavorable. Producto exitoso</td>
        <td>Estudio desfavorable. Producto fracaso</td>
      </tr>
      <tr>
        <td>t1 = {{b1t1y1}}</td>
        <td>t2 = {{b1t1y2}}</td>
        <td>t1 = {{b1t2y1}}</td>
        <td>t2 = {{b1t2y2}}</td>
      </tr>
      </tbody>
    </table>

    <div class="bloque"></div>

    <table>
      <thead>
      <tr>
        <th>P(Tk/Yj</th>
        <th>Y1</th>
        <th>Y2</th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>t1</td>
        <td>{{b1t1y1}}</td>
        <td>{{b1t1y2}}</td>
      </tr>
      <tr>
        <td>t2</td>
        <td>{{b1t2y1}}</td>
        <td>{{b1t2y2}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="b2t1y1"
       class="bloque">
    B2)
    <div></div>
    <table>
      <thead>
      <tr>
        <th>P(Tk/Yj</th>
        <th>Y1</th>
        <th>Y2</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>t1</td>
        <td>{{b2t1y1}}</td>
        <td>{{b2t1y2}}</td>
        <td>{{b2t1}}</td>
      </tr>
      <tr>
        <td>t2</td>
        <td>{{b2t2y1}}</td>
        <td>{{b2t2y2}}</td>
        <td>{{b2t2}}</td>
      </tr>
      <tr>
        <td></td>
        <td>{{b2y1}}</td>
        <td>{{b2y2}}</td>
      </tr>
      </tbody>
    </table>
  </div>


  <div *ngIf="b3t1y1"
       class="bloque">
    B3)
    <table>
      <thead>
      <tr>
        <th>P(Tk/Yj</th>
        <th>Y1</th>
        <th>Y2</th>
        <th></th>
      </tr>
      </thead>
      <tbody>
      <tr>
        <td>t1</td>
        <td>{{b3t1y1}}</td>
        <td>{{b3t1y2}}</td>
        <td>{{b3t1}}</td>
      </tr>
      <tr>
        <td>t2</td>
        <td>{{b3t2y1}}</td>
        <td>{{b3t2y2}}</td>
        <td>{{b3t2}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div *ngIf="b3t1y1"
       class="bloque">
    B4)
    <div>
      <label>Formula:</label>
      d(x1) = [ C11 . P(y1/t1) + C12 . P(y2/t1)] - C
      <br>
      <br>
      TK --> t1 --> d(x1) = [ C11 . P(y1/t1) + C12 . P(y1/t2)] - C
      <br>
      d(x1) = [ {{c11}} . {{b3t1y1}} + {{c12}} . {{b3t1y2}}] - {{estudioMercado}}
      <br>
      d(x1) = {{t1dx1}}
      <p>
        Si se hace el estudio y el resultado es favorable, y se decide producir el producto se obtendrá una ganancia de
        {{t1dx1}}
      </p>
      <br>
      <br>
      TK --> t1 --> d(x2) = - C
      <br>
      d(x2) = -{{estudioMercado}}
      <p>
        Si se hace el estudio y el resultado es favorable, pero se decide <b>NO</b> comercializar el producto habrá una
        perdida de
        {{estudioMercado}}
      </p>
      <br>
      <br>
      TK --> t2 --> d(x1) = [ C11 . P(y2/t1) + C12 . P(y2/t2)] - C
      <br>
      d(x1) = [ {{c11}} . {{b3t2y1}} + {{c12}} . {{b3t2y2}}] - {{estudioMercado}}
      <br>
      d(x1) = {{t2dx1}}
      <p>
        Si se hace el estudio y el resultado es desfavorable y aún asi se decide producir, se obtendrá una perdida de
        {{t2dx1}}
      </p>
      <br>
      <br>
      TK --> t2 --> d(x2) = - C
      <br>
      d(x2) = -{{estudioMercado}}
      <br>
      <p>
        Si se hace el estudio y el resultado es desfavorable y se decide <b>NO</b> comercializar el producto habrá una
        perdida de {{estudioMercado}}
      </p>
      <br>
      <div>
        t1 d(opt)t1 = {{calculard1opt()}}
      </div>
      <br>
      <div>
        t2 d(opt)t2 = {{calculard2opt()}}
      </div>
    </div>
    <div class="bloque">
      B5)
      <br>
      d(opt) = d(opt)t1 . P(t1) + d(opt)t2 . P(t2)
    </div>
    <div class="bloque">
      B6)
      <br>
      {{calculard1opt()}} . {{b2t1}} + {{calculard2opt()}} . {{b2t2}} = {{calcularFinal()}}
    </div>

    <div>
      C)
      <br>
      d(opt)A priori {{dx1}}
      d(opt)A posteriori {{calcularFinal()}}
      <br>
      {{resultadoFinal()}}
    </div>
  </div>
</ion-content>
